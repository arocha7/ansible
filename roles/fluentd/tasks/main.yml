---
# tasks file for fluentd

- include_tasks: "{{ ansible_os_family }}.yml"

#
## Step 3 â€” deploying a local Elasticsearch container
#

- name: "Docker SDK for Python: docker (Python >= 2.7) or docker-py (Python 2.6)"
  pip:
    name: docker
    state: present

- sysctl:
    name: vm.max_map_count
    value: '262144'
    state: present

- name: start Elasticsearch container
  docker_container:
    name: elasticsearch
    state: present
    image: elasticsearch
    exposed_ports:
    - 9200:9200
    - 9300:9300
    command: sleep infinity

